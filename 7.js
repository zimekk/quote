"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[7],{3007:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L});var r=n(2784),l=n(357),s=n(4500),o=n(1148),a=n(5120),i=n(2335),c=n(6982),A=n(2779),m=n.n(A),u=n(6062),d=n.n(u),p=n(4036),h=n.n(p),g=n(6793),b=n.n(g),E=n(7892),f=n.n(E),C=n(1173),y=n.n(C),v=n(2464),w=n.n(v),x=n(3510),Z={};Z.styleTagTransform=w(),Z.setAttributes=f(),Z.insert=b().bind(null,"head"),Z.domAPI=h(),Z.insertStyleElement=y(),d()(x.Z,Z);const k=x.Z&&x.Z.locals?x.Z.locals:void 0,{width:S,height:B,left:O,right:U,top:Y,bottom:F}={width:320,height:200,left:10,right:10,top:20,bottom:20};function D({list:e}){const[t,n]=(0,r.useState)(null),l=(0,r.useRef)(null),A=(0,r.useRef)(null),u=(0,r.useRef)(null),d=(0,r.useMemo)((()=>new o.x),[]);return(0,r.useEffect)((()=>{const e=d.pipe((0,i.w)((e=>(0,a.of)(e).pipe((0,c.g)(e?0:800))))).subscribe((e=>n(e)));return()=>e.unsubscribe()}),[d]),(0,r.useEffect)((()=>{const t=e.map((e=>[new Date(e.price_timestamp),e.price,e.id])),n=t.map((([e=0])=>e)),r=t.map((([,e=0])=>e)),o=[Math.min(...n),Math.max(...n)],a=[Math.min(...r),Math.max(...r)],i=(0,s.BYU)().domain(o).range([O,S-U]),c=(0,s.BYU)().domain(a).range([B-F,Y]),m=(0,s.BYU)().domain(a).range(["red","blue"]);(0,s.Ys)(u.current).selectAll("circle").remove(),(0,s.Ys)(u.current).selectAll("circle").data(t).join((e=>e.append("circle").attr("cx",(([e=0])=>i(e))).attr("cy",(([,e=0])=>c(e))).attr("r",0).attr("fill",(([e=0])=>m(e))).on("mouseover",((e,[,,t])=>d.next({left:e.layerX,top:e.layerY,label:t}))).on("mouseout",(()=>d.next(null))).call((e=>e.transition().duration(200).attr("r",2).style("opacity",1)))),(e=>e.attr("fill","lightgrey")),(e=>e.attr("fill","tomato").call((e=>e.transition().duration(200).attr("r",0).style("opacity",0).remove()))));const p=(0,s.LLu)(i).ticks(5).tickSizeOuter(0).tickFormat((0,s.i$Z)("%Y-%m-%d, %H:%M:%S"));(0,s.Ys)(l.current).call(p).style("font-size","8px");const h=(0,s.y4O)(c).ticks(5).tickSizeOuter(0);(0,s.Ys)(A.current).call(h).style("font-size","8px")}),[e]),r.createElement("div",{className:m()(k.Chart)},r.createElement("svg",{ref:u,width:S,height:B,viewBox:`0, 0, ${S}, ${B}`},r.createElement("g",{transform:`translate(0, ${B-F})`,ref:l}),r.createElement("g",{transform:`translate(${O}, 0)`,ref:A})),t&&r.createElement("div",{className:k.Tooltip,style:{top:t.top,left:t.left}},t.label))}var H=n(3045),I={};I.styleTagTransform=w(),I.setAttributes=f(),I.insert=b().bind(null,"head"),I.domAPI=h(),I.insertStyleElement=y(),d()(H.Z,I);const T=H.Z&&H.Z.locals?H.Z.locals:void 0,M=(0,l.k)((async()=>{const e=await fetch("api/quote.json");return await e.json()}));function G({symbol:e,rates:t}){const[{logo_url:n}]=t;return r.createElement("div",null,r.createElement("h3",null,r.createElement("img",{alt:e,src:n}),r.createElement("span",null,e)),r.createElement(D,{list:t}))}function L(){const{results:e}=M.read(),t=(0,r.useMemo)((()=>e.reduce(((e,t)=>Object.assign(e,{[t.symbol]:(e[t.symbol]||[]).concat(t)})),{})),[e]);return console.log({list:t}),r.createElement("section",{className:T.Section},r.createElement("h2",null,"Quote"),Object.entries(t).map((([e,t])=>r.createElement(G,{key:e,symbol:e,rates:t}))),r.createElement("pre",null,JSON.stringify(e,null,2)))}},3510:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(272),l=n.n(r),s=n(2609),o=n.n(s)()(l());o.push([e.id,".GD1VOmHbAdLdAEhpcP76{position:relative;border:2px solid red}.GD1VOmHbAdLdAEhpcP76 svg{width:100%;height:50vh}.GD1VOmHbAdLdAEhpcP76 .rUOrYdAmIEQZil4CemrZ{position:absolute}.rUOrYdAmIEQZil4CemrZ{background:#fff;border:1px solid #add8e6;color:orange;padding:.25em}","",{version:3,sources:["webpack://./src/containers/Quote/Chart.module.scss"],names:[],mappings:"AAAA,sBACE,iBAAA,CACA,oBAAA,CAEA,0BACE,UAAA,CACA,WAAA,CAEF,4CACE,iBAAA,CAGJ,sBACE,eAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA",sourcesContent:[".Chart {\n  position: relative;\n  border: 2px solid red;\n\n  svg {\n    width: 100%;\n    height: 50vh;\n  }\n  .Tooltip {\n    position: absolute;\n  }\n}\n.Tooltip {\n  background: white;\n  border: 1px solid lightblue;\n  color: orange;\n  padding: 0.25em;\n}\n"],sourceRoot:""}]),o.locals={Chart:"GD1VOmHbAdLdAEhpcP76",Tooltip:"rUOrYdAmIEQZil4CemrZ"};const a=o},3045:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(272),l=n.n(r),s=n(2609),o=n.n(s)()(l());o.push([e.id,".nIFFESrZohc36HDUpxy2{color:blue}.nIFFESrZohc36HDUpxy2 h3 img{width:24px;height:24px}.nIFFESrZohc36HDUpxy2 h3 img+span{margin-left:1em}","",{version:3,sources:["webpack://./src/containers/Quote/styles.module.scss"],names:[],mappings:"AAAA,sBACE,UAAA,CAGE,6BACE,UAAA,CACA,WAAA,CACA,kCACE,eAAA",sourcesContent:[".Section {\n  color: blue;\n\n  h3 {\n    img {\n      width: 24px;\n      height: 24px;\n      & + span {\n        margin-left: 1em;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),o.locals={Section:"nIFFESrZohc36HDUpxy2"};const a=o}}]);
//# sourceMappingURL=7.js.map