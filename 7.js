"use strict";(self.webpackChunk_dev_web=self.webpackChunk_dev_web||[]).push([[7],{3007:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var r=n(2784),s=n(357),o=n(4500),l=n(1148),a=n(5120),i=n(2335),c=n(6982),u=n(2779),A=n.n(u),m=n(6062),d=n.n(m),p=n(4036),h=n.n(p),b=n(6793),f=n.n(b),g=n(7892),E=n.n(g),C=n(1173),y=n.n(C),v=n(2464),w=n.n(v),Z=n(3510),k={};k.styleTagTransform=w(),k.setAttributes=E(),k.insert=f().bind(null,"head"),k.domAPI=h(),k.insertStyleElement=y(),d()(Z.Z,k);const x=Z.Z&&Z.Z.locals?Z.Z.locals:void 0,{width:O,height:Y,left:B,right:S,top:U,bottom:T}={width:320,height:200,left:10,right:10,top:20,bottom:20};function D({list:e}){const[t,n]=(0,r.useState)(null),s=(0,r.useRef)(null),u=(0,r.useRef)(null),m=(0,r.useRef)(null),d=(0,r.useMemo)((()=>new l.x),[]);return(0,r.useEffect)((()=>{const e=d.pipe((0,i.w)((e=>(0,a.of)(e).pipe((0,c.g)(e?0:800))))).subscribe((e=>n(e)));return()=>e.unsubscribe()}),[d]),(0,r.useEffect)((()=>{const t=e.map((e=>[new Date(e.price_timestamp),e.price,e.id])),n=t.map((([e=0])=>e)),r=t.map((([,e=0])=>e)),l=[Math.min(...n),Math.max(...n)],a=[Math.min(...r),Math.max(...r)],i=(0,o.BYU)().domain(l).range([B,O-S]),c=(0,o.BYU)().domain(a).range([Y-T,U]),A=(0,o.BYU)().domain(a).range(["red","blue"]);(0,o.Ys)(m.current).selectAll("circle").remove(),(0,o.Ys)(m.current).selectAll("circle").data(t).join((e=>e.append("circle").attr("cx",(([e=0])=>i(e))).attr("cy",(([,e=0])=>c(e))).attr("r",0).attr("fill",(([e=0])=>A(e))).on("mouseover",((e,[,,t])=>d.next({left:e.layerX,top:e.layerY,label:t}))).on("mouseout",(()=>d.next(null))).call((e=>e.transition().duration(200).attr("r",2).style("opacity",1)))),(e=>e.attr("fill","lightgrey")),(e=>e.attr("fill","tomato").call((e=>e.transition().duration(200).attr("r",0).style("opacity",0).remove()))));const p=(0,o.LLu)(i).ticks(5).tickSizeOuter(0).tickFormat((0,o.i$Z)("%Y-%m-%d, %H:%M:%S"));(0,o.Ys)(s.current).call(p).style("font-size","8px");const h=(0,o.y4O)(c).ticks(5).tickSizeOuter(0);(0,o.Ys)(u.current).call(h).style("font-size","8px")}),[e]),r.createElement("div",{className:A()(x.Chart)},r.createElement("svg",{ref:m,width:O,height:Y,viewBox:`0, 0, ${O}, ${Y}`},r.createElement("g",{transform:`translate(0, ${Y-T})`,ref:s}),r.createElement("g",{transform:`translate(${B}, 0)`,ref:u})),t&&r.createElement("div",{className:x.Tooltip,style:{top:t.top,left:t.left}},t.label))}var H=n(3045),I={};I.styleTagTransform=w(),I.setAttributes=E(),I.insert=f().bind(null,"head"),I.domAPI=h(),I.insertStyleElement=y(),d()(H.Z,I);const M=H.Z&&H.Z.locals?H.Z.locals:void 0,F=(0,s.k)((async()=>{const e=await fetch("api/quote.json");return await e.json()}));function L({symbol:e,rates:t}){return r.createElement("div",null,r.createElement("h2",null,e),r.createElement(D,{list:t}))}function P(){const{results:e}=F.read(),t=(0,r.useMemo)((()=>e.reduce(((e,t)=>Object.assign(e,{[t.symbol]:(e[t.symbol]||[]).concat(t)})),{})),[e]);return console.log({list:t}),r.createElement("section",{className:M.Section},r.createElement("h2",null,"Quote"),Object.entries(t).map((([e,t])=>r.createElement(L,{key:e,symbol:e,rates:t}))),r.createElement("pre",null,JSON.stringify(e,null,2)))}},3510:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(272),s=n.n(r),o=n(2609),l=n.n(o)()(s());l.push([e.id,".GD1VOmHbAdLdAEhpcP76{position:relative;border:2px solid red}.GD1VOmHbAdLdAEhpcP76 svg{width:100%;height:50vh}.GD1VOmHbAdLdAEhpcP76 .rUOrYdAmIEQZil4CemrZ{position:absolute}.rUOrYdAmIEQZil4CemrZ{background:#fff;border:1px solid #add8e6;color:orange;padding:.25em}","",{version:3,sources:["webpack://./src/containers/Quote/Chart.module.scss"],names:[],mappings:"AAAA,sBACE,iBAAA,CACA,oBAAA,CAEA,0BACE,UAAA,CACA,WAAA,CAEF,4CACE,iBAAA,CAGJ,sBACE,eAAA,CACA,wBAAA,CACA,YAAA,CACA,aAAA",sourcesContent:[".Chart {\n  position: relative;\n  border: 2px solid red;\n\n  svg {\n    width: 100%;\n    height: 50vh;\n  }\n  .Tooltip {\n    position: absolute;\n  }\n}\n.Tooltip {\n  background: white;\n  border: 1px solid lightblue;\n  color: orange;\n  padding: 0.25em;\n}\n"],sourceRoot:""}]),l.locals={Chart:"GD1VOmHbAdLdAEhpcP76",Tooltip:"rUOrYdAmIEQZil4CemrZ"};const a=l},3045:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(272),s=n.n(r),o=n(2609),l=n.n(o)()(s());l.push([e.id,".nIFFESrZohc36HDUpxy2{color:blue}","",{version:3,sources:["webpack://./src/containers/Quote/styles.module.scss"],names:[],mappings:"AAAA,sBACE,UAAA",sourcesContent:[".Section {\n  color: blue;\n}\n"],sourceRoot:""}]),l.locals={Section:"nIFFESrZohc36HDUpxy2"};const a=l}}]);
//# sourceMappingURL=7.js.map